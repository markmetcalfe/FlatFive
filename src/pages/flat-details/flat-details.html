<ion-header>

  <ion-navbar>
    <ion-title>Flat</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>

  <ion-item no-lines>
    <ion-grid>
      <ion-row>
        <ion-col col-auto>
          <img src="{{listing.photos[0].url}}" height="100" width="100">
        </ion-col>
        <ion-col col-auto text-left>
          <h2 ion-text><b>{{flat.address}}</b></h2>
          <h2 ion-text>{{flat.suburb}}</h2>
          <h2 ion-text>{{flat.city}}</h2>
        </ion-col>
      </ion-row>

      <ion-row align-items-center>
        <ion-col>
          <h2 ion-text class="heading">Overall Rating</h2>
        </ion-col>
        <ion-col text-right>
          <h2 ion-text><span class="heading-score">{{getAverage()}}</span>/5</h2>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-item>
          <button ion-button padding full outline (click)="toggleRatings()">{{displayRatings ? "Hide" : "Show"}} Individual
            Ratings
          </button>
        </ion-item>
      </ion-row>

      <ion-row>
        <!-- Flat Ratings -->
        <ion-item *ngIf="displayRatings===true">
          <ion-row>
            <ion-col col-2 class="emoji">
              <h2 ion-text>{{flat.landlordRating
                < 3 ? "ðŸ’§" : "ðŸŒµ"}}
              </h2>
            </ion-col>
            <ion-col text-left>
              <h2 ion-text>Dampness Rating: </h2>
            </ion-col>
            <ion-col text-right>
              <h2 ion-text><b>{{flat.dampnessRating}}</b><span class="review-score">/5</span></h2>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-2 class="emoji">
              <h2 ion-text>{{flat.landlordRating
                < 3 ? "ðŸ‘¿" : "ðŸ˜‡"}}
              </h2>
            </ion-col>
            <ion-col text-left>
                <h2 ion-text>Landlord Rating: </h2>
              </ion-col>
            <ion-col text-right>
                <h2 ion-text><b>{{flat.landlordRating}}</b><span class="review-score">/5</span></h2>
            </ion-col>
          </ion-row>
        </ion-item>
      </ion-row>
      <ion-row align-items-center>
        <ion-col>
          <h2 ion-text class="heading">Reviews</h2>
        </ion-col>
        <ion-col text-right>
          <h2 ion-text>See All</h2>
        </ion-col>
      </ion-row>

    </ion-grid>
    <!-- END Flat Information -->
  </ion-item>

  <ion-item>
    <ion-label>Trevor Mallard</ion-label>
    
    <!-- <h2 ion-text><span class="heading-score">{{getAverage()}}</span>/5</h2> -->
  </ion-item>
  <ion-item>
    <p>"My landlord was pretty good, not a bad place for a group of second year students"</p>
    <h2 ion-text style="float: right;"><span class="heading-score">{{getAverage()}}</span>/5</h2>
  </ion-item>

  <ion-item>
    <button ion-button large full (click)="goReview()">Write a Review</button>
  </ion-item>

</ion-content>